<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food App üçî</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"></script>
</head>
<body>
    <header>
        <h1>Food App</h1>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="cart.html">Cart (<span id="cart-count">0</span>)</a></li>
            </ul>
        </nav>
    </header>
    <header>
        <nav>
          <div id="auth-links">
            <a href="auth.html">Login</a>
            <span id="user-email" style="display:none"></span>
            <button id="logout-btn" style="display:none">Logout</button>
          </div>
        </nav>
      </header>
      

    <main>
        <section class="search-bar">
            <input type="text" id="search-input" placeholder="Search meals...">
            <button id="search-btn">Search</button>
        </section>

        <section id="meals" class="meals-container">
            <!-- Meals load here dynamically -->
        </section>
    </main>

    <script src="js/script.js"></script>
</body>
<script type="module">
    import { auth, onAuthStateChanged, signOut } from './js/firebase.js';
    
    onAuthStateChanged(auth, (user) => {
      const userEmail = document.getElementById('user-email');
      const logoutBtn = document.getElementById('logout-btn');
      
      if (user) {
        userEmail.textContent = user.email;
        userEmail.style.display = 'inline';
        logoutBtn.style.display = 'inline';
      }
    });
  
    document.getElementById('logout-btn').addEventListener('click', () => {
      signOut(auth);
    });
  </script>
</html>